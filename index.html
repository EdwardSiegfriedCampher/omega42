<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omega 42 Project</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... your existing styles ... */

        /* NEW: Problem/Solution Index Modal Styles */
        #index-modal .modal-content {
            max-width: 95%;
            max-height: 90vh;
            overflow: hidden;
        }
        
        #index-iframe {
            width: 100%;
            height: 85vh;
            border: none;
            border-radius: 8px;
            background: white;
        }
        
        #index-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--gold);
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="galaxy"></div>
    
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobile-menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Prompt limit notification -->
    <div class="limit-notification" id="limit-notification">
        <i class="fas fa-exclamation-triangle"></i> 
        <span id="limit-message">You've reached the prompt limit</span>
    </div>
    
    <div class="container">
        <!-- Header section -->
        <section class="header-section">
            <div class="project-description">
                <h3>Omega 42 Project</h3>
                <p>A revolutionary framework exploring consciousness as the foundation of reality through mathematics, physics, and philosophy.</p>
            </div>
            
            <div class="logo-container">
                <div class="spiral"></div>
                <div class="omega-logo">Ω42</div>
            </div>
            
            <!-- AI Invitation Box - Repositioned -->
            <div class="ai-invitation">
                <i class="fas fa-robot"></i>
                <div>
                    <strong>AI Exploration:</strong> Select and copy any prompt to paste into your favorite AI system for insights
                </div>
            </div>
            
            <div class="welcome-message">
                <h1>Welcome to the Omega 42 Project</h1>
                <p>Explore cosmic mysteries through thought-provoking questions</p>
            </div>
        </section>
        
        <!-- Main section -->
        <section class="main-section">
            <div class="controls-container">
                <div class="top-row">
                    <div class="controls">
                        <button class="btn btn-primary" id="readme-btn">
                            <i class="fas fa-book"></i> Readme
                        </button>
                        <button class="btn btn-secondary" id="suggest-btn">
                            <i class="fas fa-lightbulb"></i> Suggest
                        </button>
                        <button class="btn btn-secondary" id="devs-btn">
                            <i class="fas fa-code"></i> Devs
                        </button>
                        
                        <!-- NEW: Problem/Solution Index Button -->
                        <button class="btn btn-primary" id="index-btn">
                            <i class="fas fa-list"></i> Problem/Solution Index
                        </button>
                        
                        <!-- Category selector next to Dev button -->
                        <div class="dropdown-container">
                            <select class="category-select" id="category-select">
                                <option value="">-- Select a Category --</option>
                                <option value="essential">Essential</option>
                                <option value="life">Life & Meaning</option>
                                <option value="science">Science & Universe</option>
                                <option value="consciousness">Consciousness & Mind</option>
                                <option value="technology">Technology & Future</option>
                                <option value="society">Society & Humanity</option>
                                <option value="growth">Personal Growth</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="counters">
                        <div class="counter">
                            <div class="counter-value" id="total-prompts">42</div>
                            <div class="counter-label">Prompts</div>
                        </div>
                        <div class="counter">
                            <div class="counter-value" id="category-prompts">6</div>
                            <div class="counter-label">Selected</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="prompts-container">
                <div class="prompts-grid" id="prompts-grid">
                    <!-- Default prompts will be inserted here -->
                </div>
            </div>
            
            <div class="copied-meter">
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <span>Copied: <span id="copied-count">0</span></span>
            </div>
        </section>
    </div>
    
    <!-- Copy notification -->
    <div class="copy-notification" id="copy-notification">
        <i class="fas fa-check-circle"></i> Prompt copied with GitHub link and AI instructions!
    </div>
    
    <!-- Readme Modal -->
    <div class="modal" id="readme-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">The Omega 42 Project</h2>
                <p>A Journey to Understand the Universe</p>
            </div>
            <div class="modal-body">
                <p>Welcome to the Omega 42 Project, where we explore the deepest mysteries of existence through science, philosophy, and human experience.</p>
                
                <p>This repository contains the mathematical framework, research papers, and computational models that form the foundation of our work. We invite scientists, philosophers, and curious minds to examine, challenge, and contribute to this evolving theory.</p>
                
                <p>Key principles:</p>
                <ul>
                    <li>Consciousness as fundamental to reality</li>
                    <li>Toroidal holographic model of the universe</li>
                    <li>Digital root mathematics as cosmic harmony filter</li>
                    <li>The golden ratio (φ) as a universal constant</li>
                    <li>Human-AI collaboration for discovery</li>
                </ul>
                
                <!-- Explanation for prompt disappearance -->
                <h3 style="margin-top: 20px; color: var(--gold);">About Prompt Submissions</h3>
                <p>We've fixed an issue where submitted prompts were not being saved permanently. Now, prompts are stored using your browser's local storage.</p>
                <p><strong>Prompt Limit:</strong> You can add up to 100 prompts total across all categories. This helps us maintain quality while allowing community participation.</p>
            </div>
            <button class="close-modal" id="close-readme">&times;</button>
        </div>
    </div>
    
    <!-- Suggest Prompt Modal -->
    <div class="modal" id="suggest-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Suggest a New Prompt</h2>
                <p>Contribute to the Omega 42 Project</p>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="prompt-text">Your Prompt:</label>
                    <textarea class="form-control" id="prompt-text" rows="2" placeholder="Enter your thought-provoking question..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="prompt-category">Category:</label>
                    <select class="form-control" id="prompt-category">
                        <option value="essential">Essential</option>
                        <option value="life">Life & Meaning</option>
                        <option value="science">Science & Universe</option>
                        <option value="consciousness">Consciousness & Mind</option>
                        <option value="technology">Technology & Future</option>
                        <option value="society">Society & Humanity</option>
                        <option value="growth">Personal Growth</option>
                    </select>
                </div>
                
                <button class="btn btn-primary" id="submit-prompt">Submit Prompt</button>
                <div id="prompt-feedback" style="margin-top: 15px; display: none;"></div>
            </div>
            <button class="close-modal" id="close-suggest">&times;</button>
        </div>
    </div>
    
    <!-- For Devs Modal -->
    <div class="modal" id="devs-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">For Developers</h2>
                <p>Contribute to the Omega 42 Project</p>
            </div>
            <div class="modal-body">
                <p>We welcome developers to contribute to the Omega 42 Project!</p>
                
                <p>Key areas for contribution:</p>
                <ul>
                    <li>Computational models of the toroidal holographic universe</li>
                    <li>Visualizations of the Omega 42 lattice</li>
                    <li>Interactive simulations</li>
                    <li>APIs for AI integration</li>
                    <li>Web interface enhancements</li>
                </ul>
                
                <p>To get started:</p>
                <ol>
                    <li>Fork the Omega 42 repository on GitHub</li>
                    <li>Explore open issues and feature requests</li>
                    <li>Set up development environment</li>
                    <li>Submit pull requests</li>
                </ol>
            </div>
            <button class="close-modal" id="close-devs">&times;</button>
        </div>
    </div>
    
    <!-- NEW: Problem/Solution Index Modal -->
    <div class="modal" id="index-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Omega 42: Problem-Solution Index v3.3</h2>
                <p>Comprehensive framework for cosmic understanding</p>
            </div>
            <div class="modal-body" style="position: relative;">
                <div id="index-loading">
                    <i class="fas fa-spinner fa-spin"></i> Loading cosmic index...
                </div>
                <iframe id="index-iframe"></iframe>
            </div>
            <button class="close-modal" id="close-index">&times;</button>
        </div>
    </div>

    <script>
        // ... your existing JavaScript ...

        // NEW: Problem/Solution Index functionality
        const indexBtn = document.getElementById('index-btn');
        const indexModal = document.getElementById('index-modal');
        const closeIndex = document.getElementById('close-index');
        const indexIframe = document.getElementById('index-iframe');
        const indexLoading = document.getElementById('index-loading');

        // Initialize page - UPDATED
        function initPage() {
            // ... your existing initialization ...
            
            // NEW: Set up event listeners for index button
            indexBtn.addEventListener('click', showProblemSolutionIndex);
            closeIndex.addEventListener('click', () => hideModal(indexModal));
            
            // Close modal when clicking outside content
            window.addEventListener('click', (e) => {
                if (e.target === indexModal) hideModal(indexModal);
            });
        }

        // NEW: Show Problem/Solution Index
        function showProblemSolutionIndex() {
            showModal(indexModal);
            indexLoading.style.display = 'block';
            
            // Set a small timeout to ensure iframe is ready
            setTimeout(() => {
                // Set iframe source to the Problem/Solution Index
                indexIframe.src = 'https://raw.githubusercontent.com/EdwardSiegfriedCampher/omega42/main/Problem-Solution-Index.html';
                
                // Hide loading indicator after content loads
                indexIframe.onload = () => {
                    indexLoading.style.display = 'none';
                };
            }, 100);
        }

        // ... rest of your existing JavaScript ...
    </script>
</body>
</html>
