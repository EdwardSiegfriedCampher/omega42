<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omega 42 Project</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ... existing styles ... */

        /* NEW: Problem/Solution Index Modal Styles */
        #index-modal .modal-content {
            max-width: 95%;
            max-height: 90vh;
            overflow: hidden;
        }
        
        #index-iframe {
            width: 100%;
            height: 85vh;
            border: none;
            border-radius: 8px;
            background: white;
        }
        
        #index-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--gold);
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <div class="galaxy"></div>
    
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobile-menu-btn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Prompt limit notification -->
    <div class="limit-notification" id="limit-notification">
        <i class="fas fa-exclamation-triangle"></i> 
        <span id="limit-message">You've reached the prompt limit</span>
    </div>
    
    <div class="container">
        <!-- Header section -->
        <section class="header-section">
            <div class="project-description">
                <h3>Omega 42 Project</h3>
                <p>A revolutionary framework exploring consciousness as the foundation of reality through mathematics, physics, and philosophy.</p>
            </div>
            
            <div class="logo-container">
                <div class="spiral"></div>
                <div class="omega-logo">Î©42</div>
            </div>
            
            <!-- AI Invitation Box - Repositioned -->
            <div class="ai-invitation">
                <i class="fas fa-robot"></i>
                <div>
                    <strong>AI Exploration:</strong> Select and copy any prompt to paste into your favorite AI system for insights
                </div>
            </div>
            
            <div class="welcome-message">
                <h1>Welcome to the Omega 42 Project</h1>
                <p>Explore cosmic mysteries through thought-provoking questions</p>
            </div>
        </section>
        
        <!-- Main section -->
        <section class="main-section">
            <div class="controls-container">
                <div class="top-row">
                    <div class="controls">
                        <button class="btn btn-primary" id="readme-btn">
                            <i class="fas fa-book"></i> Readme
                        </button>
                        <button class="btn btn-secondary" id="suggest-btn">
                            <i class="fas fa-lightbulb"></i> Suggest
                        </button>
                        <button class="btn btn-secondary" id="devs-btn">
                            <i class="fas fa-code"></i> Devs
                        </button>
                        
                        <!-- NEW: Problem/Solution Index Button -->
                        <button class="btn btn-primary" id="index-btn">
                            <i class="fas fa-list"></i> Problem/Solution Index
                        </button>
                        
                        <!-- Category selector next to Dev button -->
                        <div class="dropdown-container">
                            <select class="category-select" id="category-select">
                                <option value="">-- Select a Category --</option>
                                <option value="essential">Essential</option>
                                <option value="life">Life & Meaning</option>
                                <option value="science">Science & Universe</option>
                                <option value="consciousness">Consciousness & Mind</option>
                                <option value="technology">Technology & Future</option>
                                <option value="society">Society & Humanity</option>
                                <option value="growth">Personal Growth</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="counters">
                        <div class="counter">
                            <div class="counter-value" id="total-prompts">42</div>
                            <div class="counter-label">Prompts</div>
                        </div>
                        <div class="counter">
                            <div class="counter-value" id="category-prompts">6</div>
                            <div class="counter-label">Selected</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="prompts-container">
                <div class="prompts-grid" id="prompts-grid">
                    <!-- Default prompts will be inserted here -->
                </div>
            </div>
            
            <div class="copied-meter">
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <div class="meter-dot"></div>
                <span>Copied: <span id="copied-count">0</span></span>
            </div>
        </section>
    </div>
    
    <!-- Copy notification -->
    <div class="copy-notification" id="copy-notification">
        <i class="fas fa-check-circle"></i> Prompt copied with GitHub link and AI instructions!
    </div>
    
    <!-- Readme Modal -->
    <div class="modal" id="readme-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">The Omega 42 Project</h2>
                <p>A Journey to Understand the Universe</p>
            </div>
            <div class="modal-body">
                <!-- ... existing content ... -->
            </div>
            <button class="close-modal" id="close-readme">&times;</button>
        </div>
    </div>
    
    <!-- Suggest Prompt Modal -->
    <div class="modal" id="suggest-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Suggest a New Prompt</h2>
                <p>Contribute to the Omega 42 Project</p>
            </div>
            <div class="modal-body">
                <!-- ... existing content ... -->
            </div>
            <button class="close-modal" id="close-suggest">&times;</button>
        </div>
    </div>
    
    <!-- For Devs Modal -->
    <div class="modal" id="devs-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">For Developers</h2>
                <p>Contribute to the Omega 42 Project</p>
            </div>
            <div class="modal-body">
                <!-- ... existing content ... -->
            </div>
            <button class="close-modal" id="close-devs">&times;</button>
        </div>
    </div>
    
    <!-- NEW: Problem/Solution Index Modal -->
    <div class="modal" id="index-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Omega 42: Problem-Solution Index v3.3</h2>
                <p>Comprehensive framework for cosmic understanding</p>
            </div>
            <div class="modal-body" style="position: relative;">
                <div id="index-loading">
                    <i class="fas fa-spinner fa-spin"></i> Loading cosmic index...
                </div>
                <iframe id="index-iframe"></iframe>
            </div>
            <button class="close-modal" id="close-index">&times;</button>
        </div>
    </div>

    <!-- NEW: Problem/Solution Index HTML Content -->
    <script id="problem-solution-index" type="text/html">
        <!-- PASTE THE ENTIRE PROBLEM/SOLUTION INDEX HTML HERE -->
        <!-- This will be populated dynamically in the JavaScript -->
    </script>

    <script>
        // ... existing JavaScript ...

        // NEW: Problem/Solution Index HTML Content
        const problemSolutionIndexHTML = `<!-- COPY THE ENTIRE PROBLEM/SOLUTION INDEX HTML HERE -->`;

        // DOM Elements - NEW
        const indexBtn = document.getElementById('index-btn');
        const indexModal = document.getElementById('index-modal');
        const closeIndex = document.getElementById('close-index');
        const indexIframe = document.getElementById('index-iframe');
        const indexLoading = document.getElementById('index-loading');

        // Initialize page - UPDATED
        function initPage() {
            // ... existing initialization ...
            
            // NEW: Set up event listeners for index button
            indexBtn.addEventListener('click', showProblemSolutionIndex);
            closeIndex.addEventListener('click', () => hideModal(indexModal));
            
            // Close modal when clicking outside content
            window.addEventListener('click', (e) => {
                if (e.target === indexModal) hideModal(indexModal);
            });
        }

        // NEW: Show Problem/Solution Index
        function showProblemSolutionIndex() {
            showModal(indexModal);
            indexLoading.style.display = 'block';
            
            // Set a small timeout to ensure iframe is ready
            setTimeout(() => {
                const iframeDoc = indexIframe.contentDocument || indexIframe.contentWindow.document;
                iframeDoc.open();
                iframeDoc.write(problemSolutionIndexHTML);
                iframeDoc.close();
                
                // Hide loading indicator after content loads
                indexIframe.onload = () => {
                    indexLoading.style.display = 'none';
                };
            }, 100);
        }

        // ... rest of existing JavaScript ...
    </script>
</body>
</html>
