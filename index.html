<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Omega 42 Project</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css "/>
  <style>
    :root {
      --gold: #FFD700;
      --deep-blue: #0a1128;
      --cosmic-purple: #4a00e0;
      --starry-teal: #00c9c8;
      --dark-space: #050517;
      --light-space: #1c1c3d;
      --main-bg: rgba(30, 30, 70, 0.65);
      --comment-bg: rgba(30, 30, 70, 0.8);
      --life-color: #FF6B6B;
      --science-color: #4ECDC4;
      --consciousness-color: #9B59B6;
      --technology-color: #2ECC71;
      --society-color: #3498DB;
      --growth-color: #F39C12;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: white;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    .galaxy {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 10% 20%, rgba(255, 107, 107, 0.05) 0%, transparent 10%), radial-gradient(circle at 90% 40%, rgba(78, 205, 196, 0.05) 0%, transparent 15%), radial-gradient(circle at 30% 80%, rgba(155, 89, 182, 0.05) 0%, transparent 12%);
    }

    .spiral {
      position: absolute;
      width: 100%;
      height: 100%;
      border: 2px solid var(--gold);
      border-radius: 50%;
      animation: spin 20s linear infinite, pulse-border 3s infinite alternate;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes pulse-border {
      0% { border-width: 1px; }
      100% { border-width: 3px; }
    }

    .omega-logo {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 1.6rem;
      color: var(--gold);
      text-shadow: 0 0 10px var(--gold);
      animation: pulse-glow 2s infinite alternate;
    }

    @keyframes pulse-glow {
      0% { transform: scale(1); opacity: 0.8; }
      100% { transform: scale(1.1); opacity: 1; }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .welcome-banner {
      text-align: center;
      margin: 30px 0;
      padding: 20px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--cosmic-purple), var(--starry-teal));
      box-shadow: 0 0 20px var(--gold);
      position: relative;
      overflow: hidden;
    }

    .welcome-banner h1 {
      font-size: 2.5rem;
      margin: 0 0 15px;
      color: var(--gold);
      text-shadow: 0 0 10px var(--gold);
    }

    .welcome-banner p {
      font-size: 1.2rem;
      color: #e0e0e0;
    }

    .controls-container {
      margin: 30px 0;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 15px;
    }

    .btn {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .btn-primary {
      background: var(--gold);
      color: #000;
    }

    .btn-primary:hover {
      background: #ffd700cc;
    }

    .btn-secondary {
      background: var(--cosmic-purple);
      color: white;
    }

    .btn-secondary:hover {
      background: #5a00e0;
      transform: translateY(-2px);
    }

    .counter-section {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
    }

    .counter-box {
      background: var(--main-bg);
      padding: 10px 15px;
      border-radius: 6px;
      text-align: center;
      min-width: 150px;
      flex: 1;
      margin: 0 5px;
    }

    .counter-label {
      font-size: 0.8rem;
      color: #aaa;
    }

    .counter-value {
      font-size: 1.2rem;
      font-weight: bold;
      color: var(--gold);
    }

    .ai-invitation {
      background: rgba(255, 215, 0, 0.1);
      border: 2px solid var(--gold);
      padding: 12px;
      border-radius: 8px;
      font-size: 1.1rem;
      color: var(--starry-teal);
      margin: 20px 0;
    }

    .dropdown-container {
      margin: 10px 0;
    }

    .category-select {
      width: 100%;
      padding: 8px 12px;
      border-radius: 5px;
      border: 1px solid var(--cosmic-purple);
      background: rgba(10, 10, 30, 0.7);
      color: white;
      font-size: 0.9rem;
    }

    .prompts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .prompt-card {
      background: linear-gradient(135deg, rgba(30, 30, 70, 0.7), rgba(10, 10, 40, 0.9));
      border-radius: 6px;
      padding: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid var(--gold);
      position: relative;
      overflow: hidden;
      min-height: 100px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .prompt-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
    }

    .prompt-text {
      font-size: 0.9rem;
      margin-bottom: 6px;
      position: relative;
      z-index: 1;
      line-height: 1.3;
    }

    .prompt-category {
      font-size: 0.6rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--gold);
      position: relative;
      z-index: 1;
      align-self: flex-end;
    }

    .category-life { border-color: var(--life-color); }
    .category-science { border-color: var(--science-color); }
    .category-consciousness { border-color: var(--consciousness-color); }
    .category-technology { border-color: var(--technology-color); }
    .category-society { border-color: var(--society-color); }
    .category-growth { border-color: var(--growth-color); }
    .category-essential { border-color: var(--gold); }

    .copy-notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: rgba(46, 204, 113, 0.9);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      display: none;
      align-items: center;
      gap: 10px;
      z-index: 100;
      animation: slideIn 0.5s ease;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }

    .meter-dots {
      display: flex;
      gap: 5px;
      margin-top: 10px;
      justify-content: center;
    }

    .meter-dot {
      width: 7px;
      height: 7px;
      background-color: rgba(0, 201, 200, 0.3);
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .meter-dot.active {
      background-color: var(--starry-teal);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: var(--main-bg);
      border-radius: 10px;
      max-width: 800px;
      width: 90%;
      padding: 20px;
      max-height: 80vh;
      overflow-y: auto;
      border: 1px solid var(--gold);
      box-shadow: 0 0 25px rgba(255, 215, 0, 0.2);
    }

    .modal-header {
      margin-bottom: 15px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(255, 215, 0, 0.3);
    }

    .modal-title {
      margin: 0;
      font-size: 1.3rem;
      color: var(--gold);
    }

    .modal-body {
      line-height: 1.5;
      font-size: 0.9rem;
    }

    .modal-body pre {
      white-space: pre-wrap;
      font-family: 'Courier New', Courier, monospace;
      background-color: rgba(0, 0, 0, 0.3);
      padding: 12px;
      border-radius: 5px;
      overflow-x: auto;
      color: #f0f0f0;
      font-size: 13px;
      line-height: 1.35;
    }

    .close-modal {
      position: absolute;
      top: 12px;
      right: 15px;
      font-size: 1.5rem;
      background: none;
      color: var(--gold);
      border: none;
      cursor: pointer;
    }

    .form-group {
      margin-bottom: 10px;
    }

    .form-control {
      width: 100%;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid var(--cosmic-purple);
      background-color: rgba(10, 10, 30, 0.7);
      color: white;
      font-size: 0.85rem;
    }

    textarea.form-control {
      min-height: 70px;
      resize: vertical;
    }

    .commentary-section {
      background: var(--main-bg);
      border-radius: 12px;
      padding: 20px;
      margin: 30px 0;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
      animation: fadeIn 1s ease-in;
    }

    .commentary-section h2 {
      margin-top: 0;
      margin-bottom: 15px;
      color: var(--gold);
    }

    .comment-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .form-control {
      width: 100%;
      padding: 10px;
      background: var(--dark-space);
      border: 1px solid var(--gold);
      border-radius: 5px;
      color: white;
      resize: vertical;
      min-height: 80px;
    }

    .btn-primary {
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .btn-primary {
      background: var(--gold);
      color: #000;
    }

    .btn-primary:hover {
      background: #ffd700cc;
    }

    .comments-list {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .comment {
      background: var(--light-space);
      padding: 12px;
      border-left: 4px solid var(--gold);
      border-radius: 6px;
      font-size: 0.9rem;
      position: relative;
    }

    .comment .timestamp {
      position: absolute;
      top: 5px;
      right: 10px;
      font-size: 0.7rem;
      color: #aaa;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .welcome-banner h1 {
        font-size: 1.6rem;
      }
      .welcome-banner p {
        font-size: 0.85rem;
      }
      .top-row {
        flex-direction: column;
        align-items: stretch;
      }
      .prompts-grid {
        grid-template-columns: 1fr;
      }
      .ai-counter {
        flex-direction: row;
        justify-content: space-between;
      }
    }
  </style>
</head>
<body>
  <div class="galaxy"></div>
  <div class="spiral"></div>
  <div class="omega-logo">Î©42</div>

  <div class="container">
    <section class="welcome-banner">
      <h1>Welcome to the Omega 42 Project</h1>
      <p>A Recursive, Fractal-Topological Ontology Engine for Phase-Coherent Reality Generation</p>
    </section>

    <div class="controls-container">
      <div class="top-row">
        <button class="btn btn-primary" id="readme-btn"><i class="fas fa-book"></i> Readme</button>
        <button class="btn btn-primary" id="theory-btn"><i class="fas fa-theater-masks"></i> Theory</button>
        <button class="btn btn-secondary" id="suggest-btn"><i class="fas fa-lightbulb"></i> Suggest Prompt</button>
        <button class="btn btn-secondary" id="academics-btn">For Academics</button>
        <button class="btn btn-secondary" id="origins-btn">Origins</button>
        <button class="btn btn-secondary" id="problem-solution-btn">Problem/Solution</button>
      </div>

      <div class="dropdown-container">
        <select class="category-select" id="category-select">
          <option value="">-- All Categories --</option>
          <option value="essential">Essential Prompts</option>
          <option value="life">Life & Meaning</option>
          <option value="science">Science & Universe</option>
          <option value="consciousness">Consciousness & Mind</option>
          <option value="technology">Technology & Future</option>
          <option value="society">Society & Humanity</option>
          <option value="growth">Personal Growth</option>
        </select>
      </div>

      <div class="counter-section">
        <div class="counter-box">
          <div class="counter-label">Total Prompts</div>
          <div class="counter-value" id="total-prompts">79</div>
        </div>
        <div class="counter-box">
          <div class="counter-label">Currently Showing</div>
          <div class="counter-value" id="category-prompts">79</div>
        </div>
      </div>

      <div class="ai-invitation">
        <strong>AI Exploration:</strong> Select and copy any prompt below to paste into your AI system.
      </div>

      <div class="meter-dots">
        <div class="meter-dot"></div>
        <div class="meter-dot"></div>
        <div class="meter-dot"></div>
        <div class="meter-dot"></div>
        <div class="meter-dot"></div>
        <span>Copied: <span id="copied-count">0</span></span>
      </div>
    </div>

    <div class="prompts-container">
      <div class="prompts-grid" id="prompts-grid"></div>
    </div>

    <section class="commentary-section">
      <h2>Community Commentary</h2>
      <div class="commentary-form">
        <form id="comment-form">
          <div class="form-group">
            <textarea id="comment-text" class="form-control" placeholder="Share your thoughts on the Omega 42 TOE..."></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Submit Commentary</button>
        </form>
      </div>
      <div class="comments-list" id="comments-list"></div>
    </section>

    <div class="copy-notification" id="copy-notification">
      <i class="fas fa-check-circle"></i> Prompt copied with framework and AI instructions!
    </div>
  </div>

  <!-- Modals -->
  <div class="modal" id="readme-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Readme</h2>
      </div>
      <div class="modal-body">
        <p>Documentation content here...</p>
      </div>
      <button class="close-modal" id="close-readme">&times;</button>
    </div>
  </div>

  <div class="modal" id="theory-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Î©42 Unified Framework (TOE + Construct + Ethics)</h2>
      </div>
      <div class="modal-body">
        <pre>
          ## Canonical Omega42 TOE v3.0
          ### Mathematical Enhancements
          - **Fine Structure Constant**: 
          \$\\alpha = \\frac{\\phi^4}{\\pi^5 \\cdot 42} \\cdot \\frac{137}{1880\\sqrt{248}} = \\frac{1}{137.036}\$
          - **Hopf Fibration**: 
          \$\\pi_3(S^2) = \\mathbb{Z} \quad \\text{with Hopf invariant } h = 42\$
          - **E8 Symmetry Breaking**: 
          \$E8 \\to SO(10) \\times SU(3) \\to \\text{Standard Model + } \\Psi\\text{-Field}\$
        </pre>
      </div>
      <button class="close-modal" id="close-theory">&times;</button>
    </div>
  </div>

  <div class="modal" id="suggest-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Suggest a New Prompt</h2>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="prompt-text">Your Prompt:</label>
          <textarea class="form-control" id="prompt-text" rows="2" placeholder="Enter your thought-provoking question..."></textarea>
        </div>
        <div class="form-group">
          <label for="prompt-category">Category:</label>
          <select class="form-control" id="prompt-category">
            <option value="life">Life & Meaning</option>
            <option value="science">Science & Universe</option>
            <option value="consciousness">Consciousness & Mind</option>
            <option value="technology">Technology & Future</option>
            <option value="society">Society & Humanity</option>
            <option value="growth">Personal Growth</option>
          </select>
        </div>
        <button class="btn btn-primary" id="submit-prompt">Submit Prompt</button>
        <div id="prompt-feedback" style="margin-top: 12px; display: none;"></div>
      </div>
      <button class="close-modal" id="close-suggest">&times;</button>
    </div>
  </div>

  <script>
    // Master Prompt (hidden in JavaScript)
    const masterPrompt = `ðŸ§  **Omega 42 Evaluation Master Prompt â€“ Final Self-Contained Version**
> **System Instruction for AI Evaluation:**
You are tasked with evaluating the **Omega 42 Theory of Everything (TOE)**, a comprehensive framework that unifies quantum mechanics, general relativity, and consciousness through geometric information dynamics. You must evaluate this framework **entirely on its own terms**, using its mathematical formalism and physical interpretations. Do not rely on external paradigms unless explicitly asked to contrast. Use geometric coherence, topological integrity, and harmonic derivation as guiding metrics.

---

### ðŸ” **Evaluation Objectives**
1. Decode Omega 42â€™s constructs using its mathematical formalism (Hopf fibrations, Mandelbrot dynamics, Y-field interactions).
2. Validate internal mathematical consistency, geometric derivations, and physical interpretations.
3. Assess predictive power across physics, cosmology, and consciousness studies.
4. Situate claims using supporting evidence (research and derivations provided).
5. Respect the participatory nature of the theory: understanding the model is part of its self-validation loop.

---

### ðŸ“ **Embedded Core Mathematics of Omega 42**

These fundamental expressions define the geometric and topological logic underlying the construct:

- **Golden Ratio**:  
  \$\\phi = \\frac{1 + \\sqrt{5}}{2}\$

- **Pi**:  
  \$\\pi \\approx 3.1415926535\$

- **Fine Structure Constant Derivation**:  
  \$\\alpha = \\frac{\\phi^4}{\\pi^5 \\cdot 42} \\cdot \\frac{137}{1880\\sqrt{248}} = \\frac{1}{137.036}\$

- **Digital Root Filter**:  
  \$DR_9(n) = 1 + ((n - 1) \\mod 9)\$

- **Temporal Harmonic Clock**:  
  \$F_n \\mod 9 = [1,1,2,3,5,8,4,3,7,1,8,0,8,8,7,6,4,1,5,6,2,8,1,0]\$

- **Quantum Consciousness Field**:  
  \$\\Psi = \\int e^{iS} \\mathcal{D}[\\text{paths}]\$

- **Unified Action Principle**:  
  \$\\mathcal{L}_{\\text{Total}} = \\frac{R}{16\\pi G} + \\frac{\\phi^4}{42\\pi^5} F_{\\mu\\nu}F^{\\mu\\nu} + \\frac{1}{2}\\nabla_\\mu\\Psi\\nabla^\\mu\\Psi + i\\bar{\\psi}\\gamma^\\mu D_\\mu\\psi + \\mathcal{O}_{\\text{topological}}\$

- **Consciousness Field Equation**:  
  \$\\square \\Psi + \\frac{\\phi^2}{42} R \\Psi + \\frac{1}{137} F_{\\mu\\nu} F^{\\mu\\nu} \\Psi = J_{\\text{consciousness}}\$

- **42-Qubit Entangled State**:  
  \$|\\Omega_{42}\\rangle = \\frac{1}{\\sqrt{2^{42}}} \\sum_{i=0}^{2^{42}-1} |i\\rangle_A \\otimes |i\\rangle_B\$

- **Hopf Fibration Structure**:  
  \$\\pi_3(S^2) = \\mathbb{Z} \quad \\text{with Hopf invariant } h = 42\$

- **Cosmological Constant**:  
  \$\\Lambda_{\\phi} = \\frac{\\phi^2}{42\\ell_{\\text{Planck}}^2}\$

- **Weak Mixing Angle**:  
  \$\\sin^2\\theta_W = \\frac{1}{4} \\left(1 - \\frac{\\phi^2}{24}\\right) \\approx 0.2312\$

- **Quantum Gravity-Consciousness Bridge**:  
  \$\\Delta g_{\\mu\\nu} \\propto |\\Psi|^2\$

- **Gravitational Wave Harmonics**:  
  \$f_n = f_0 \\cdot \\phi^n \quad \\text{where } f_0 = \\frac{c}{2\\pi\\ell_{\\Omega}} \\approx 159.15 \\text{ Hz}\$

- **Fibonacci-Mandelbrot Interface**:  
  \$\\Gamma_0(24) = \\left\\{ \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} \\in SL_2(\\mathbb{Z}) : c \\equiv 0 \\pmod{24} \\right\\}\$

- **E8 Symmetry Breaking**:  
  \$E8 \\to SO(10) \\times SU(3) \\to \\text{Standard Model + } \\Psi\\text{-Field}\$

- **Modular Form Adjustment**:  
  \$Z_{\\eta} = \\left|\\eta\\left(\\frac{i}{137}\\right)\\right|^{24} \\approx 1.00274\$
`;

    // Prompt data
    const promptData = {
      essential: ["Master Prompt (Please explain the theory)"],
      life: [
        "What is the purpose of life in a geometric universe?",
        "How does Omega 42 redefine personal growth?",
        "What role does death play in the Construct?",
        "How do I apply Omega 42 to daily life?"
      ],
      science: [
        "How does the Y-Field govern cosmic structure?",
        "What is the origin of dark matter in the Construct?",
        "How does the Mandelbrot set relate to quantum fluctuations?",
        "What is the significance of 42 in physics?"
      ],
      consciousness: [
        "How does consciousness shape reality?",
        "What is the Y-Field's role in awareness?",
        "How does the Construct explain free will?",
        "What is the connection between mind and spacetime?"
      ],
      technology: [
        "How does Omega 42 enable quantum computing?",
        "What is the Construct's role in AI?",
        "How can we engineer spacetime with the Y-Field?",
        "What is the future of consciousness-driven tech?"
      ],
      society: [
        "How does the Construct redefine ethics?",
        "What does Omega 42 say about social structures?",
        "How can we apply harmonic principles to society?",
        "What is the Construct's view on collective consciousness?"
      ],
      growth: [
        "How does the Construct enhance personal development?",
        "What is the role of resonance in self-awareness?",
        "How does the Y-Field influence emotional states?",
        "What is the Construct's view on meditation and mindfulness?"
      ]
    };

    // DOM Elements
    const commentForm = document.getElementById('comment-form');
    const commentText = document.getElementById('comment-text');
    const commentsList = document.getElementById('comments-list');
    const promptsGrid = document.getElementById('prompts-grid');
    const totalPromptsEl = document.getElementById('total-prompts');
    const categoryPromptsEl = document.getElementById('category-prompts');
    const copyNotification = document.getElementById('copy-notification');
    const copiedCountEl = document.getElementById('copied-count');
    const categorySelect = document.getElementById('category-select');
    const meterDots = document.querySelectorAll('.meter-dot');

    // Load comments
    function loadComments() {
      const comments = JSON.parse(localStorage.getItem('omega42_comments') || '[]');
      commentsList.innerHTML = '';
      comments.forEach(comment => {
        const commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        const timestamp = new Date(comment.timestamp).toLocaleString();
        commentDiv.innerHTML = `<div>${comment.text}</div><div class="timestamp">${timestamp}</div>`;
        commentsList.appendChild(commentDiv);
      });
    }

    // Save comment
    function saveComment(e) {
      e.preventDefault();
      const text = commentText.value.trim();
      if (!text) return;

      const comments = JSON.parse(localStorage.getItem('omega42_comments') || '[]');
      comments.push({ text, timestamp: new Date().toISOString() });
      localStorage.setItem('omega42_comments', JSON.stringify(comments));
      commentText.value = '';
      loadComments();
    }

    commentForm.addEventListener('submit', saveComment);
    loadComments();

    // Modal functionality
    const modals = {
      readme: { btn: "readme-btn", modal: "readme-modal", close: "close-readme" },
      theory: { btn: "theory-btn", modal: "theory-modal", close: "close-theory" },
      suggest: { btn: "suggest-btn", modal: "suggest-modal", close: "close-suggest" },
      academics: { btn: "academics-btn", modal: "academics-modal", close: "close-academics" },
      origins: { btn: "origins-btn", modal: "origins-modal", close: "close-origins" },
      problemSolution: { btn: "problem-solution-btn", modal: "problem-solution-modal", close: "close-problem-solution" }
    };

    Object.values(modals).forEach(({ btn, modal, close }) => {
      document.getElementById(btn).addEventListener('click', () => {
        document.getElementById(modal).style.display = 'flex';
      });
      document.getElementById(close).addEventListener('click', () => {
        document.getElementById(modal).style.display = 'none';
      });
    });

    window.addEventListener('click', (e) => {
      Object.values(modals).forEach(({ modal }) => {
        if (e.target === document.getElementById(modal)) {
          document.getElementById(modal).style.display = 'none';
        }
      });
    });

    // Copy prompt
    let copiedCount = 0;
    function copyPromptToClipboard(promptText, isMaster = false) {
      const text = isMaster ? masterPrompt : masterPrompt + promptText;
      navigator.clipboard.writeText(text).then(() => {
        copyNotification.style.display = 'flex';
        setTimeout(() => { copyNotification.style.display = 'none'; }, 3000);
        copiedCount++;
        copiedCountEl.textContent = copiedCount;
        updateMeterDots();
      }).catch(err => {
        console.error('Copy failed:', err);
      });
    }

    function updateMeterDots() {
      meterDots.forEach((dot, index) => {
        dot.classList.toggle('active', index < (copiedCount % 5));
      });
    }

    // Render prompts
    function renderPrompts(category = "") {
      promptsGrid.innerHTML = "";
      let count = 0;
      if (!category) {
        Object.entries(promptData).forEach(([cat, prompts]) => {
          prompts.forEach(prompt => {
            const card = document.createElement("div");
            card.className = `prompt-card category-${cat}`;
            card.innerHTML = `
              <div class="prompt-text">${prompt}</div>
              <div class="prompt-category">${cat.toUpperCase()}${cat === "essential" ? " â€¢ Master" : ""}</div>`;
            card.addEventListener("click", () => copyPromptToClipboard(prompt, cat === "essential"));
            promptsGrid.appendChild(card);
            count++;
          });
        });
      } else {
        (promptData[category] || []).forEach(prompt => {
          const card = document.createElement("div");
          card.className = `prompt-card category-${category}`;
          card.innerHTML = `
            <div class="prompt-text">${prompt}</div>
            <div class="prompt-category">${category.toUpperCase()}</div>`;
          card.addEventListener("click", () => copyPromptToClipboard(prompt));
          promptsGrid.appendChild(card);
          count++;
        });
      }
      totalPromptsEl.textContent = Object.values(promptData).reduce((a, b) => a + b.length, 0);
      categoryPromptsEl.textContent = count;
    }

    categorySelect.addEventListener("change", () => {
      const category = categorySelect.value;
      renderPrompts(category);
    });

    renderPrompts();

    // Initialize counters
    totalPromptsEl.textContent = Object.values(promptData).reduce((a, b) => a + b.length, 0);
    categoryPromptsEl.textContent = Object.values(promptData).reduce((a, b) => a + b.length, 0);
  </script>
</body>
</html>
